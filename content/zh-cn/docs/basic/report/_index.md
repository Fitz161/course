---
title: 验证报告
description:  概述验证报告的结构与内容。
categories: [示例项目, 学习材料]
tags: [examples, docs]
weight: 6
---

{{% pageinfo %}}
在我们完成DUT验证后，编写验证报告是至关重要的一环。本节将从整体角度概述验证报告的结构以及报告所需覆盖的内容。
{{% /pageinfo %}}

验证报告是对整个验证过程的回顾，是验证合理与否的重要支持文件。一般情况下，验证报告需要包含以下内容：

1. 文档基本信息（作者、日志、版本等）
1. 验证对象（验证目标）
1. 功能点介绍
1. 验证方案
1. 测试点分解
1. 测试用例
1. 测试环境
1. 结果分析
1. 缺陷分析
1. 测试结论


以下内容对列表进行举例解释

------------------------------------------------------

## 1. 验证的范围

1.1 什么是验证范围

在芯片验证过程中，验证范围是指需要进行验证的范围或内容的总体描述。它确定了验证活动所需覆盖的功能、性能、边界条件、接口以及其他关键方面。

1.2 举例说明

以加法器功能验证为例，本块内容应该至少描述清楚以下内容：

（1）基本功能验证：

确认加法器能够正确执行加法运算，包括对两个输入数进行相加并产生正确的结果。
测试加法器对不同数据宽度（例如8位、16位、32位）的支持，并验证其在不同数据宽度下的加法功能是否正常工作。
边界条件验证：

验证加法器在最小值、最大值以及边界情况下的加法运算是否正确，例如边界值加法、最大值加法和最小值加法。
测试加法器对于特殊情况（如进位、溢出）的处理是否符合设计要求。

（2）异常输入验证：

检查加法器对于不合法输入的处理能力，如无效输入、非数字字符或格式错误输入的情况。
验证加法器在面对不符合规范的输入时能够产生正确的错误提示或异常处理。

（3）多输入/多操作模式验证：

确认加法器能够处理多组输入，并正确执行相加操作。
验证加法器在连续多次相加操作下是否能够保持正确的累加结果。


## 2. 验证环境说明

2.1 什么是验证环境

验证环境是用于运行芯片顶层功能验证的各个组件（component）的集合。它主要包含以下几个部分：

（1）被测设计（DUT）：

DUT是待验证的设计单元，即加法器。它是验证的主体，通过验证环境中的测试向量和输入数据进行功能验证。

（2）CPU子环境（MPI Agent）：

MPI（Message Passing Interface）Agent是与外部处理器（CPU）通信的组件。它负责处理来自CPU的验证指令，并将验证结果返回给CPU。MPI Agent与CPU之间通过消息传递机制进行通信，以启动验证过程并提供验证结果。

（3）PTU/PRU子环境（SPT Agent）：

SPT（System Port Test）Agent是与外部测试单元（PTU/PRU）通信的组件。它负责与PTU/PRU进行数据交换和配置寄存器访问，以验证加法器的功能和性能。SPT Agent通过与PTU/PRU之间的接口通信，控制测试流程并收集验证数据。

（4）参考模块（RM）：

参考模块（Reference Model）是验证过程中的参照标准。它包含了预期的加法器功能和性能规格。验证结果将与参考模块的预期结果进行比对，以确认验证的正确性。参考模块通常由设计规格或功能规范定义，并在验证环境中用于验证结果的验证。

（5）检查器（Checker）：

检查器是验证环境中的组件，用于检查仿真结果与参考模块预期结果之间的一致性。它负责比对仿真输出和参考模块的预期输出，并生成验证报告。检查器确保验证结果与设计规格的一致性，以确认验证的准确性和完整性。

（6）脚本（Makefile）：

Makefile是验证环境的自动化脚本，用于管理验证流程的各个步骤。它包括编译、运行仿真、分析结果等操作，并提供了一种方便的方式来执行验证任务。通过脚本的自动化处理，可以提高验证效率并减少人工错误的可能性。

2.2 举例说明

以加法器功能验证为例，本块内容应该至少描述清楚以下内容：

（1）DUT版本信息：

DUT名称： 加法器
版本信息： v1.0
设计语言： Verilog HDL
设计工具： Synopsys Design Compiler

（2）验证平台说明：

平台名称： FPGA Verification Platform
FPGA型号： Xilinx Virtex UltraScale+ VU9P
仿真工具： Cadence Xcelium Simulator
编译工具： Xilinx Vivado

（2.1）验证环境架构：

MPI Agent： 负责与CPU子环境通信，接收和发送验证指令。
SPT Agent： 与PTU/PRU子环境通信，负责与芯片接口进行数据交换和配置寄存器访问。
参考模块（RM）： 包含了预期的加法器功能和性能规格，作为验证结果的参照。
检查器（Checker）： 检查仿真结果与参考模块预期结果之间的一致性，以确认验证的正确性。
脚本（Makefile）： 包含了验证流程的自动化脚本，用于编译、运行仿真以及结果分析。

（2.2）目录结构：

列出工作目录下所有文件及文件的概要。

（2.3）主要文件说明：

对工作目录中重要文件进行补充说明。

## 3. 覆盖率分析

3.1 什么是覆盖率分析

覆盖率分析是软件开发和测试过程中的一种质量评估技术，用于衡量测试对软件代码或功能的覆盖程度。它主要分为两个方面：代码覆盖率分析和功能覆盖率分析。

（1）代码覆盖率分析：

代码覆盖率分析关注的是测试用例对软件代码的覆盖程度。它衡量了测试用例执行过程中究竟有多少代码被执行到，以及这些代码中的哪些部分被执行。代码覆盖率分析通常包括语句覆盖率（Statement Coverage）、分支覆盖率（Branch Coverage）、条件覆盖率（Condition Coverage）和路径覆盖率（Path Coverage）等指标。

（2）功能覆盖率分析：

功能覆盖率分析关注的是测试用例对软件功能的覆盖程度。它衡量了测试用例是否覆盖了软件规格中定义的各项功能需求。功能覆盖率分析通常包括输入空间覆盖率（Input Space Coverage）、功能操作覆盖率（Functional Operation Coverage）、错误处理覆盖率（Error Handling Coverage）等指标。
覆盖率分析通过分析测试用例的执行情况，可以帮助评估测试的全面性和有效性。较高的覆盖率通常意味着测试用例对软件的覆盖程度更高，从而提高了软件的质量和可靠性。覆盖率分析结果也可以指导测试用例的设计和调整，以进一步提高测试的效率和完整性。

3.2 举例说明

以加法器功能验证为例，本块内容应该至少描述清楚以下内容：

（1）代码覆盖率分析：

代码覆盖率分析用于评估测试是否覆盖了设计代码中的各个部分和逻辑路径。对于加法器的验证，代码覆盖率分析可以通过以下方式进行：

语句覆盖率： 确保测试覆盖了加法器设计代码中的所有语句和指令，以验证代码的执行路径。
分支覆盖率： 确保测试覆盖了加法器设计代码中的所有条件分支和控制流程，以验证不同条件下的执行路径。
条件覆盖率： 确保测试覆盖了加法器设计代码中的所有条件表达式的各种可能取值，以验证条件判断的正确性。
路径覆盖率： 确保测试覆盖了加法器设计代码中的所有可能执行路径，以验证代码的完整性和正确性。

（2）功能覆盖率分析：

功能覆盖率分析旨在评估测试是否涵盖了设计规格中定义的各项功能要求。对于加法器的验证，功能覆盖率可以通过以下方式进行分析和优化：

输入空间覆盖率： 确保测试覆盖了所有可能的输入组合，包括边界情况和特殊情况（如进位、溢出）。
功能操作覆盖率： 确保测试覆盖了加法器所有可能的操作模式和功能特性，如单次加法、多次连续加法、不同数据宽度下的加法等。
错误处理覆盖率： 确保测试覆盖了加法器对异常情况的处理，如无效输入、非法操作等，以验证其错误处理能力和容错性。

## 4. 未解决Bug列表或待改进方案

4.1 什么是未解决Bug列表或待改进方案

在芯片验证过程中，未解决Bug列表或待改进方案是一个关键的文档，用于跟踪和记录在验证过程中发现的问题和改进点。该列表通常由验证团队维护，并在整个验证过程中进行更新和追踪。

内容包括但不限于以下方面：

（1）Bug描述： 每个Bug或待改进方案应该清晰地描述问题的性质、出现的条件、预期行为和实际行为之间的差异。

（2）Bug优先级： 每个Bug应该根据其对验证工作的影响和紧迫程度确定优先级，以帮助团队优先处理关键问题。

（3）Bug状态： 每个Bug应该有一个明确定义的状态，如“已确认”、“正在修复”、“待验证”、“已关闭”等，以跟踪Bug的处理进度。

（4）Bug责任人： 每个Bug应指定一个责任人负责跟进和解决，确保问题得到及时处理。

（5）Bug跟踪编号： 每个Bug应有一个唯一的标识符，便于跟踪和引用，通常使用Bug跟踪系统中提供的编号。

4.2 举例说明

Bug编号	    Bug描述	                                优先级	    状态	     责任人
BUG-001	    加法器对于带有进位的加法操作结果错误	     高	      待修复	    小明
BUG-002	    加法器在32位输入时出现性能下降              中	      正在修复      小红
BUG-003	    加法器在处理负数输入时产生异常结果	         低	      已确认	    小刚
BUG-004	    加法器在高速时钟下出现时序问题	             高	      待验证	    小亮


## 7. 验证结论

验证结论是在完成芯片验证过程后得出的最终结论，用于总结验证工作的结果并对验证对象的状态进行评估和描述。此处需要明确覆盖率具体指标等内容。