---
title: 验证IP
description: VIP， verification IP
categories: [示例项目, 教程]
tags: [examples, docs]
weight: 4
draft: true
---

## 概述
> **验证环境并不是全部由verifier编写的，可以用到很多已经编写好的，复用程度高的验证模板，例如某些agent，而这些模板就是VIP。**
>VIP（Verfication IP）代码确认与验证技术，是预先验证过的内建验证结构，提供了完整的、灵活的应用机制，可以方便地插入到基于仿真的确认测试中，可以大大提高验证可重用性和验证效率。

VIP 提供一套全面测试环境，帮助设计者和验证者确认其设计功能的正确性，可用于各个层次的仿真验证。通常，VIP 是基于标准协议的，如：AMBA、PCIE、USB、Ethernet 等。VIP 中包括很多验证部件 IP，这些 IP 都严格遵循这些标准协议、已经被验证过，通常包括：产生 testbench 所必须的基础部件、根据协议等的驱动driver和sequence，以及相应的覆盖率模型、dut软件模型、说明文档。

大型项目中，涉及到众多协议和标准，所以会涉及到很多VIP，还涉及C++等跨平台联合仿真


### 使用场景

**● 验证设计IP**
就是IC设计者会通过购买稳定VIP来对自己的设计进行验证。
当然也可以自己开发VIP

**● 集成设计IP**
设计IP的参数众多，不同的参数配置会产生不同的性能、不同的功能。
所以需要集成人员，将多个设计IP进行连接、配置、调度，那么对应的VIP也要进行继承

**● 子系统、SoC系统开发者**
设计的IP向上层集成时，也涉及到VIP的使用和集成，例如使用什么样的sequence进行定向测试

### VIP  的优势和特点

**● 不断更新的标准**
什么PCIe、DDR、USB、AMBA等各种协议呀，经常不断更新。
为了使硬件之间能够相互兼容，设计IP就要不断修正、完善使自己的IP兼容新的标准，相应地验证IP也要不断迭代更新。
而有了VIP之后，集成人员和验证人员就不需要花费力气去兼容协议，而将重点放在功能上去即可。

**● 虚拟dut**
就是说，如果用硬件模型仿真，可能会耗时巨大。VIP提供的一些用SystemC、Systemverilog等软件模拟的硬件，可加快仿真速度

**● 内置开发的协议冲突检查器**
在设计和VIP之间的接口上集成了VIP监视器。它可以用来监视总线上的trans，也可以用来自动验证协议规则。无论何时从DUT发送或接收任何trans，都有可能违反VIP中开发的内置协议检查器中的协议规则，从而引发违反协议的错误

**● 提供各种详细的错误报告*

### VIP 的集成
- **模块级**： module级别的验证其实就是之前一直讲的验证框架，只不过将验证框架的内容替换成VIP

- **子系统级**： 对于多个module集成之后的子系统而言，可将VIP嵌入系统中，替换子系统中的某些控制module或响应module，进行含有driver、sequencer的UVM_ACTIVE测试。如果驱动测试没问题，就可以接上真正的硬件模块了，然后**将VIP中相应的agent设定为UVM_PASSIVE**，只保留monitor监测就好。

- **芯片级**： 系统级别，集成程度更高，就会涉及到系统级别的VIP，系统中某些Process、Memory等硬件，并不是真的硬件而是VIP提供的
这是一种虚拟的处理器，可通过SystemC、SystemVerilog实现这样的核，这是为了加快仿真速度

> [openVIP](https://gitee.com/XS-MLVP/open-vip) 是picker提供的一组 C++ 实现的验证IP库，并提供其他语言（Python，Java等）编程接口。
> 当前该库还在开发中，只提供了一些简单的接口。
